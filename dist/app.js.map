{"version":3,"sources":["webpack:///webpack/bootstrap d7367dfde30ac7f9c2fe","webpack:///./javascripts/constants.js","webpack:///./javascripts/helpers.js","webpack:///./javascripts/lazyload.js","webpack:///./javascripts/app.js","webpack:///./javascripts/tab.js","webpack:///./javascripts/search.js","webpack:///./javascripts/toplist.js","webpack:///./javascripts/recommend.js","webpack:///./javascripts/slider.js","webpack:///./javascripts/music_player.js","webpack:///./javascripts/progress_bar.js","webpack:///./javascripts/lyrics_player.js"],"names":["RECOMMEND_URL","TOPLIST_URL","SEARCH_URL","LYRICS_URL","songUrl","lyricsUrl","albumCoverUrl","searchUrl","id","songid","keyword","page","lazyload","images","imgs","slice","call","document","querySelectorAll","window","observer","IntersectionObserver","entries","forEach","entry","intersectionRatio","loadImage","target","unobserve","threshold","observe","img","onscroll","throttle","length","removeEventListener","filter","classList","contains","inViewport","addEventListener","dispatchEvent","Event","func","wait","prev","timer","fn","curr","Date","now","diff","clearTimeout","setTimeout","getBoundingClientRect","top","left","right","bottom","vpWidth","documentElement","clientWidth","vpHeight","clientHeight","callback","image","Image","src","dataset","onload","remove","search","querySelector","player","toplist","launch","recommend","show","onHashChange","hash","location","test","matches","indexOf","match","options","reduce","res","cur","arr","split","decodeURIComponent","play","hide","event","role","parentElement","children","tab","add","content","view","child","style","display","Search","el","$el","$input","onKeyUp","bind","$songs","songs","perpage","nomore","fetching","onScroll","value","trim","reset","keyCode","pageYOffset","body","scrollHeight","innerHTML","loading","fetch","then","json","data","song","curpage","list","message","append","done","catch","html","map","artist","singer","s","name","join","songname","albummid","interval","insertAdjacentHTML","TopList","topList","render","item","picUrl","replace","topTitle","songlist","songList","i","singername","Recommend","renderSlider","slider","renderRadios","radioList","renderPlayLists","slides","link","slide","linkUrl","radios","radio","Ftitle","playlists","songListDesc","Slider","duration","index","start","$wrap","firstElementChild","transitionDuration","width","setInterval","next","transform","MusicPlayer","$audio","createAudio","lyrics","progress","audio","createElement","Math","floor","random","restart","appendChild","onPlay","onPause","pause","innerText","coverUrl","backgroundImage","className","lyric","text","ProgressBar","elapsed","$progress","$elapsed","$duration","formatTime","intervalId","update","clearInterval","seconds","mins","secs","LyricsPlayer","$lines","round","currentTime","getSeconds","y","LINE_HEIGHT","line","$active","formatText","p1","p2","div","prototype"],"mappings":"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","file":"dist/app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d7367dfde30ac7f9c2fe","export const RECOMMEND_URL = 'https://qq-music-api.now.sh'\nexport const TOPLIST_URL = 'https://qq-music-api.now.sh/top'\nexport const SEARCH_URL = 'https://qq-music-api.now.sh/search'\nexport const LYRICS_URL = 'https://qq-music-api.now.sh/lyrics'\n\n\n// WEBPACK FOOTER //\n// ./javascripts/constants.js","import { LYRICS_URL, SEARCH_URL } from './constants.js'\n\nexport function songUrl(id) {\n  return `http://ws.stream.qqmusic.qq.com/${id}.m4a?fromtag=46`\n}\n\nexport function lyricsUrl(songid) {\n  return `${LYRICS_URL}?id=${songid}`\n}\n\nexport function albumCoverUrl(id) {\n  return `https://y.gtimg.cn/music/photo_new/T002R150x150M000${id}.jpg`\n}\n\nexport function searchUrl(keyword, page = 1) {\n  return `${SEARCH_URL}?keyword=${keyword}&page=${page}`\n}\n\n\n\n// WEBPACK FOOTER //\n// ./javascripts/helpers.js","export function lazyload(images) {\n  let imgs = [].slice.call(images || document.querySelectorAll('.lazyload'))  // Array.from(images)\n\n  if ('IntersectionObserver' in window) {\n    let observer = new IntersectionObserver(function(entries) {\n      entries.forEach(entry => {\n        if (entry.intersectionRatio > 0) {\n          loadImage(entry.target, () => {\n            observer.unobserve(entry.target)\n          })\n        }\n      })\n    }, { threshold: 0.01 })\n  \n    imgs.forEach(img => observer.observe(img))\n  } else {\n    let onscroll = throttle(function() {\n      if (imgs.length === 0) {\n        return window.removeEventListener('scroll', onscroll)\n      }\n      imgs = imgs.filter(img => img.classList.contains('lazyload'))\n      imgs.forEach(img => inViewport(img) && loadImage(img))\n    }, 300)\n  \n    window.addEventListener('scroll', onscroll)\n    window.dispatchEvent(new Event('scroll'))\n  }\n}\n\nfunction throttle(func, wait) {\n  let prev, timer\n  return function fn() {\n    let curr = Date.now()\n    let diff = curr - prev\n    if (!prev || diff >= wait) {\n      func()\n      prev = curr\n    } else if (diff < wait) {\n      clearTimeout(timer)\n      timer = setTimeout(fn, wait - diff)\n    }\n  }\n}\n\nfunction inViewport(img) {\n  let { top, left, right, bottom } = img.getBoundingClientRect()\n  let vpWidth = document.documentElement.clientWidth\n  let vpHeight = document.documentElement.clientHeight\n  return (\n    (top > 0 && top < vpHeight || bottom > 0 && bottom < vpHeight) &&\n    (left > 0 && left < vpWidth || right > 0 && right < vpWidth)\n  )\n}\n\nfunction loadImage(img, callback) {\n  let image = new Image()\n  image.src = img.dataset.src\n  image.onload = function() {\n    img.src = image.src\n    img.classList.remove('lazyload')\n    if (typeof callback === 'function') callback()\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./javascripts/lazyload.js","import './tab.js'\nimport { Search } from './search.js'\nimport { TopList } from './toplist.js'\nimport { Recommend } from './recommend.js'\nimport { MusicPlayer } from './music_player.js'\n\nlet search = new Search(document.querySelector('#search-view'))\nlet player = new MusicPlayer(document.querySelector('#player'))\nlet toplist = new TopList(document.querySelector('#rank-view')).launch()\nlet recommend = new Recommend(document.querySelector('#rec-view')).launch()\n\ndocument.querySelector('.show-player').addEventListener('click', () => {\n  player.show()\n})\n\nonHashChange()\naddEventListener('hashchange', onHashChange)\n\nfunction onHashChange() {\n  let hash = location.hash\n  if (/^#player\\?.+/.test(hash)) {\n    let matches = hash.slice(hash.indexOf('?') + 1).match(/(\\w+)=([^&]+)/g)\n    let options = matches && matches.reduce((res, cur) => {\n      let arr = cur.split('=')\n      res[arr[0]] = decodeURIComponent(arr[1])\n      return res\n    }, {})\n    player.play(options)\n  } else {\n    player.hide()\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./javascripts/app.js","document.addEventListener('click', function(event) {\n  \n  let target = event.target\n\n  if (target.dataset.role !== 'tab') return\n\n  [].forEach.call(target.parentElement.children, tab => {\n    tab.classList.remove('active')\n  })\n  target.classList.add('active')\n    \n  let content = document.querySelector(target.dataset.view)\n\n  if (content) {\n    [].forEach.call(content.parentElement.children, child => {\n      child.style.display = 'none'\n    })\n    content.style.display = 'block'\n  }\n\n})\n\n\n// WEBPACK FOOTER //\n// ./javascripts/tab.js","import { searchUrl } from './helpers.js'\n\nexport class Search {\n  constructor(el) {\n    this.$el = el\n    this.$input = this.$el.querySelector('#search')\n    this.$input.addEventListener('keyup', this.onKeyUp.bind(this))\n    this.$songs = this.$el.querySelector('.song-list')\n    this.page = 1\n    this.songs = {}\n    this.keyword = ''\n    this.perpage = 20\n    this.nomore = false\n    this.fetching = false\n    this.onscroll = this.onScroll.bind(this)\n    window.addEventListener('scroll', this.onscroll)\n  }\n\n  onKeyUp(event) {\n    let keyword = event.target.value.trim()\n    if (!keyword) return this.reset()\n    if (event.keyCode !== 13) return\n    this.search(keyword)\n  }\n\n  onScroll(event) {\n    if (this.nomore) return window.removeEventListener('scroll', this.onscroll)\n    if (pageYOffset + document.documentElement.clientHeight > document.body.scrollHeight - 50) {\n      this.search(this.keyword, this.page + 1)\n    }\n  }\n\n  reset() {\n    this.page = 1\n    this.songs = {}\n    this.keyword = ''\n    this.nomore = false\n    this.$songs.innerHTML = ''\n  }\n\n  search(keyword, page) {\n    if (this.keyword === keyword && this.songs[page || this.page]) return\n    if (this.nomore || this.fetching) return\n    if (this.keyword !== keyword) this.reset()\n    this.keyword = keyword\n    this.loading()\n    fetch(searchUrl(this.keyword, page || this.page))\n      .then(res => res.json())\n      .then(json => {\n        this.page = json.data.song.curpage\n        this.songs[this.page] = json.data.song.list\n        this.nomore = json.message === 'no results'\n        return json.data.song.list\n      })\n      .then(songs => this.append(songs))\n      .then(() => this.done())\n      .catch(() => this.fetching = false)\n  }\n\n  append(songs) {\n    let html = songs.map(song => {\n      let artist = song.singer.map(s => s.name).join(' ')\n      return `\n        <a class=\"song-item\"\n           href=\"#player?artist=${artist}&songid=${song.songid}&songname=${song.songname}&albummid=${song.albummid}&duration=${song.interval}\">\n          <i class=\"icon icon-music\"></i>\n          <div class=\"song-name ellipsis\">${song.songname}</div>\n          <div class=\"song-artist ellipsis\">${artist}</div>\n        </a>`}).join('')\n    this.$songs.insertAdjacentHTML('beforeend', html)\n  }\n\n  loading() {\n    this.fetching = true\n    this.$el.querySelector('.search-loading').classList.add('show')\n  }\n\n  done() {\n    this.fetching = false\n    if (this.nomore) {\n      this.$el.querySelector('.loading-icon').style.display = 'none'\n      this.$el.querySelector('.loading-text').style.display = 'none'\n      this.$el.querySelector('.loading-done').style.display = 'block'\n      this.$el.querySelector('.search-loading').classList.add('show')\n    } else {\n      this.$el.querySelector('.search-loading').classList.remove('show')\n    }\n  }\n  \n}\n\n\n// WEBPACK FOOTER //\n// ./javascripts/search.js","import { lazyload } from './lazyload.js' \nimport { TOPLIST_URL } from './constants.js'\n\nexport class TopList {\n  constructor(el) {\n    this.$el = el\n  }\n\n  launch() {\n    fetch(TOPLIST_URL)\n      .then(res => res.json())\n      .then(json => this.list = json.data.topList)\n      .then(() => this.render())\n    return this\n  }\n\n  render() {\n    this.$el.querySelector('.toplist').innerHTML = this.list.map(item => \n      `<li class=\"top-item\">\n        <div class=\"top-item-media\">\n          <a href=\"#\">\n            <img class=\"lazyload\" data-src=\"${item.picUrl.replace('http://', 'https://')}\">\n          </a>\n        </div>\n        <div class=\"top-item-info\">\n          <h3 class=\"top-item-title ellipsis\">${item.topTitle}</h3>\n          <ul class=\"top-item-list\">${this.songlist(item.songList)}</ul>\n        </div>\n      </li>`).join('')\n\n    lazyload(this.$el.querySelectorAll('.lazyload'))\n  }\n\n  songlist(songs) {\n    return songs.map((song, i) => \n      `<li class=\"top-item-song\">\n        <i class=\"song-index\">${i + 1}</i>\n        <span class=\"song-name\">${song.songname}</span>- ${song.singername}\n      </li>`).join('')\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./javascripts/toplist.js","import { Slider } from './slider.js'\nimport { lazyload } from './lazyload.js'\nimport { RECOMMEND_URL } from './constants.js'\n\nexport class Recommend {\n  constructor(el) {\n    this.$el = el\n  }\n\n  launch() {\n    fetch(RECOMMEND_URL)\n      .then(res => res.json())\n      .then(json => this.json = json)\n      .then(() => this.render())\n    return this\n  }\n\n  render() {\n    this.renderSlider(this.json.data.slider)\n    this.renderRadios(this.json.data.radioList)\n    this.renderPlayLists(this.json.data.songList)\n    lazyload()\n  }\n\n  renderSlider(slides) {\n    this.slider = new Slider({\n      el: this.$el.querySelector('#slider'),\n      slides: slides.map(slide => ({ \n        link: slide.linkUrl.replace('http://', 'https://'), \n        image: slide.picUrl.replace('http://', 'https://')\n      }))\n    })\n  }\n\n  renderRadios(radios) {\n    this.$el.querySelector('.radios .list').innerHTML = radios.map(radio => \n      `<div class=\"list-item\">\n        <div class=\"list-media\">\n          <img class=\"lazyload\" data-src=\"${radio.picUrl}\">\n          <span class=\"icon icon-play\"></span>\n        </div>\n        <div class=\"list-detail\">\n          <h3 class=\"list-title\">${radio.Ftitle}</h3>\n        </div>\n      </div>`).join('')\n  }\n\n  renderPlayLists(playlists) {\n    this.$el.querySelector('.playlists .list').innerHTML = playlists.map(list =>\n      `<div class=\"list-item\">\n        <div class=\"list-media\">\n          <img class=\"lazyload\" data-src=\"${list.picUrl}\">\n          <span class=\"icon icon-play\"></span>\n        </div>\n        <div class=\"list-detail\">\n          <h3 class=\"list-title\">${list.songListDesc}</h3>\n          <div class=\"list-text\"></div>\n        </div>\n      </div>`).join('')\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./javascripts/recommend.js","export class Slider {\n  constructor(options = {}) {\n    this.$el = options.el\n    this.slides = options.slides\n    this.interval = options.interval || 3000\n    this.duration = options.duration || 300\n    this.index = 0\n    this.render()\n    this.start()\n  }\n\n  render() {\n    this.$el.innerHTML = `<div class=\"qq-slider-wrap\"></div>`\n    this.$wrap = this.$el.firstElementChild\n    this.$wrap.style.transitionDuration = `${this.duration}ms`\n    this.$wrap.style.width = `${this.slides.length * 100}%`\n    this.$wrap.innerHTML = this.slides.map(slide =>\n      `<div class=\"qq-slider-item\">\n          <a href=\"${slide.link}\">\n            <img src=\"${slide.image}\">\n          </a>\n      </div>`\n    ).join('')\n  }\n\n  start() {\n    setInterval(this.next.bind(this), this.interval)\n  }\n\n  next() {\n    this.index += 1\n    if (this.index === this.slides.length) {\n      this.$wrap.style.transform = `translate(0)`\n      this.index = 0\n      return\n    }\n    this.$wrap.style.transform = `translate(-${this.index * 100 / this.slides.length}%)`\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./javascripts/slider.js","import { ProgressBar } from './progress_bar.js'\nimport { LyricsPlayer } from './lyrics_player.js'\nimport { songUrl, lyricsUrl, albumCoverUrl } from './helpers.js'\n\nexport class MusicPlayer {\n  constructor(el) {\n    this.$el = el\n    this.$el.addEventListener('click', this)\n    this.$audio = this.createAudio()\n    this.lyrics = new LyricsPlayer(this.$el.querySelector('.player-lyrics'), this.$audio)\n    this.progress = new ProgressBar(this.$el.querySelector('.progress'))\n    this.fetching = false\n  }\n\n  createAudio() {\n    let audio = document.createElement('audio')\n    audio.id = `player-${Math.floor(Math.random() * 100)}-${+new Date()}`\n    audio.addEventListener('ended', () => {\n      this.$audio.play()\n      this.lyrics.restart()\n      this.progress.restart()\n    })\n    document.body.appendChild(audio)\n    return audio\n  }\n\n  handleEvent(event) {\n    let target = event.target\n    switch (true) {\n      case target.matches('.icon-play'):\n        this.onPlay(event)\n        break\n      case target.matches('.icon-pause'):\n        this.onPause(event)\n        break\n      case target.matches('.icon-list'):\n        this.hide()\n        break\n    }\n  }\n\n  onPlay(event) {\n    if (this.fetching) return\n    this.$audio.play()\n    this.lyrics.start()\n    this.progress.start()\n    event.target.classList.add('icon-pause')\n    event.target.classList.remove('icon-play')\n  }\n\n  onPause(event) {\n    this.$audio.pause()\n    this.lyrics.pause()\n    this.progress.pause()\n    event.target.classList.add('icon-play')\n    event.target.classList.remove('icon-pause')\n  }\n\n  play(options = {}) {\n    if (!options) return\n    \n    this.$el.querySelector('.song-name').innerText = options.songname\n    this.$el.querySelector('.song-artist').innerText = options.artist\n    this.progress.reset(options.duration)\n    \n    let coverUrl = albumCoverUrl(options.albummid)\n    this.$el.querySelector('.album-cover').src = coverUrl\n    this.$el.querySelector('.player-background').style.backgroundImage = `url(${coverUrl})`\n\n    if (options.songid) {\n      if (this.songid !== options.songid) {\n        this.$el.querySelector('.icon-action').className = 'icon-action icon-play'\n      }\n      \n      this.songid = options.songid\n      this.$audio.src = songUrl(this.songid)\n      this.fetching = true\n      fetch(lyricsUrl(this.songid))\n        .then(res => res.json())\n        .then(json => json.lyric)\n        .then(text => this.lyrics.reset(text))\n        .catch(() => {})\n        .then(() => this.fetching = false)\n    }\n    \n    this.show()\n  }\n\n  show() {\n    this.$el.classList.add('show')\n    document.body.classList.add('noscroll')\n  }\n\n  hide() {\n    this.$el.classList.remove('show')\n    document.body.classList.remove('noscroll')\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./javascripts/music_player.js","export class ProgressBar {\n  constructor(el, duration, start) {\n    this.$el = el\n    this.elapsed = 0\n    this.duration = duration || 0\n    this.progress = 0\n    this.render()\n    this.$progress = this.$el.querySelector('.progress-bar-progress')\n    this.$elapsed = this.$el.querySelector('.progress-elapsed')\n    this.$duration = this.$el.querySelector('.progress-duration')\n    this.$elapsed.innerText = this.formatTime(this.elapsed)\n    this.$duration.innerText = this.formatTime(this.duration)\n    if (start) this.start()\n  }\n\n  start() {\n    this.pause()\n    this.intervalId = setInterval(this.update.bind(this), 50)\n  }\n\n  pause() {\n    clearInterval(this.intervalId)\n  }\n\n  update() {\n    this.elapsed += 0.05\n    if (this.elapsed >= this.duration) this.reset()\n    this.progress = this.elapsed / this.duration\n    this.$progress.style.transform = `translate(${this.progress * 100 - 100}%)`\n    this.$elapsed.innerText = this.formatTime(this.elapsed)\n  }\n\n  reset(duration) {\n    this.pause()\n    this.elapsed = 0\n    this.progress = 0\n    this.$progress.style.transform = `translate(-100%)`\n    this.$elapsed.innerText = this.formatTime(this.elapsed)\n    if (duration) {\n      this.duration = +duration\n      this.$duration.innerText = this.formatTime(this.duration)\n    }\n  }\n\n  restart() {\n    this.reset()\n    this.start()\n  }\n\n  render() {\n    this.$el.innerHTML = `\n      <div class=\"progress-time progress-elapsed\"></div>\n        <div class=\"progress-bar\">\n          <div class=\"progress-bar-progress\"></div>\n        </div>\n      <div class=\"progress-time progress-duration\"></div>\n    `\n  }\n\n  formatTime(seconds) {\n    let mins = Math.floor(seconds / 60)\n    let secs = Math.floor(seconds % 60)\n    if (mins < 10) mins = '0' + mins\n    if (secs < 10) secs = '0' + secs\n    return `${mins}:${secs}`\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./javascripts/progress_bar.js","export class LyricsPlayer {\n  constructor(el, audio) {\n    this.$el = el\n    this.$el.innerHTML = '<div class=\"player-lyrics-lines\"></div>'\n    this.$lines = this.$el.querySelector('.player-lyrics-lines')\n    this.$audio = audio\n    this.text = ''\n    this.index = 0\n    this.lyrics = []\n    this.elapsed = 0\n    this.reset(this.text)\n  }\n\n  start() {\n    this.pause()\n    this.intervalId = setInterval(this.update.bind(this), 1000)\n  }\n\n  pause() {\n    clearInterval(this.intervalId)\n  }\n\n  update() {\n    this.elapsed = Math.round(this.$audio ? this.$audio.currentTime : this.elapsed + 1)\n    if (this.index === this.lyrics.length - 1) return\n    for (let i = this.index + 1; i < this.lyrics.length; i++) {\n      let seconds = this.getSeconds(this.lyrics[i])\n      if (\n        this.elapsed === seconds &&\n        (!this.lyrics[i + 1] || this.elapsed < this.getSeconds(this.lyrics[i + 1]))\n      ) {\n        this.$lines.children[this.index].classList.remove('active')\n        this.$lines.children[i].classList.add('active')\n        this.index = i\n        break\n      }\n    }\n    if (this.index > 2) {\n      let y = -(this.index - 2) * this.LINE_HEIGHT\n      this.$lines.style.transform = `translateY(${y}px)`\n    }\n  }\n\n  render() {\n    let html = this.lyrics.map(line => `\n      <div class=\"player-lyrics-line\">${line.slice(10)}</div>\n    `).join('')\n    this.$lines.innerHTML = html\n  }\n\n  reset(text) {\n    this.pause()\n    this.index = 0\n    this.elapsed = 0\n    \n    this.$lines.style.transform = `translateY(0)`\n    let $active = this.$lines.querySelector('.active')\n    if ($active) {\n      $active.classList.remove('active')\n    }\n\n    if (text) {\n      this.text = this.formatText(text) || ''\n      this.lyrics = this.text.match(/^\\[\\d{2}:\\d{2}.\\d{2}\\](.+)$/gm) || []\n      if (this.lyrics.length) this.render()\n    }\n\n    if (this.lyrics.length) {\n      this.$lines.children[this.index].classList.add('active')\n    }\n  }\n\n  restart() {\n    this.reset()\n    this.start()\n  }\n\n  getSeconds(line) {\n    return +line.replace(/^\\[(\\d{2}):(\\d{2}).*/, (match, p1, p2) => 60 * (+p1) + (+p2))\n  }\n\n  formatText(text) {\n    let div = document.createElement('div')\n    div.innerHTML = text\n    return div.innerText\n  }\n}\n\nLyricsPlayer.prototype.LINE_HEIGHT = 42\n\n\n// WEBPACK FOOTER //\n// ./javascripts/lyrics_player.js"],"sourceRoot":""}